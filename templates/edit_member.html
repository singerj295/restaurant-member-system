{% extends "base.html" %}

{% block title %}ç·¨è¼¯æœƒå“¡ - {{ restaurant_name }}{% endblock %}

{% block content %}
    <div class="cp-header">
        <h1 class="cp-title">âœï¸ ç·¨è¼¯æœƒå“¡</h1>
    </div>
    
    <div class="cp-card" style="max-width: 600px;">
        <form method="POST">
            <div class="mb-3">
                <label class="cp-form-label">å§“å *</label>
                <input type="text" name="name" class="cp-form-control" value="{{ member.name }}" required>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">é›»è©± *</label>
                <input type="tel" name="phone" class="cp-form-control" value="{{ member.phone }}" pattern="[0-9]{8,}" required>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">æœƒå“¡ç­‰ç´š</label>
                <select name="tier" class="cp-form-control">
                    <option value="æ™®é€šæœƒå“¡" {% if member.tier == 'æ™®é€šæœƒå“¡' %}selected{% endif %}>æ™®é€šæœƒå“¡</option>
                    <option value="é»‘é‘½æœƒå“¡" {% if member.tier == 'é»‘é‘½æœƒå“¡' %}selected{% endif %}>é»‘é‘½æœƒå“¡ ğŸ’</option>
                </select>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">å„²å€¼é¤˜é¡ ($)</label>
                <input type="number" name="balance" class="cp-form-control" value="{{ member.balance }}" step="0.01" min="0">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">ç”Ÿæ•ˆæ—¥æœŸ</label>
                <input type="date" name="effective_date" class="cp-form-control" value="{{ member.effective_date.strftime('%Y-%m-%d') if member.effective_date else '' }}">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">åˆ°æœŸæ—¥æœŸ</label>
                <input type="date" name="expiry_date" class="cp-form-control" value="{{ member.expiry_date.strftime('%Y-%m-%d') if member.expiry_date else '' }}">
            </div>
            <div style="display: flex; gap: 0.75rem;">
                <button type="submit" class="cp-btn cp-btn-primary">å„²å­˜</button>
                <a href="{{ url_for('members') }}" class="cp-btn cp-btn-secondary">å–æ¶ˆ</a>
            </div>
        </form>
    </div>
{% endblock %}
