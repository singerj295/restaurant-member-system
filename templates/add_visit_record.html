{% extends "base.html" %}

{% block title %}添加訪問記錄 - {{ restaurant_name }}{% endblock %}

{% block content %}
    <div class="cp-header">
        <h1 class="cp-title">➕ 添加訪問記錄 - {{ customer.name }}</h1>
    </div>
    
    <div class="cp-card" style="max-width: 600px;">
        <form method="POST">
            <div class="mb-3">
                <label class="cp-form-label">日期時間</label>
                <input type="datetime-local" name="visit_date" class="cp-form-control" value="{{ now.strftime('%Y-%m-%dT%H:%M') }}">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">消費金額 ($)</label>
                <input type="number" name="amount" class="cp-form-control" step="0.01" min="0" required>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">人數</label>
                <input type="number" name="party_size" class="cp-form-control" value="1" min="1">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">座位</label>
                <input type="text" name="table_number" class="cp-form-control">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">服務員</label>
                <input type="text" name="server" class="cp-form-control">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">備註</label>
                <textarea name="note" class="cp-form-control" rows="2"></textarea>
            </div>
            <div style="display: flex; gap: 0.75rem;">
                <button type="submit" class="cp-btn cp-btn-primary">儲存</button>
                <a href="{{ url_for('customer_visits', customer_id=customer.id) }}" class="cp-btn cp-btn-secondary">取消</a>
            </div>
        </form>
    </div>
{% endblock %}
