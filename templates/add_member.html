{% extends "base.html" %}

{% block title %}æ–°å¢æœƒå“¡ - {{ restaurant_name }}{% endblock %}

{% block content %}
    <div class="cp-header">
        <h1 class="cp-title">â• æ–°å¢æœƒå“¡</h1>
    </div>
    
    <div class="cp-card" style="max-width: 600px;">
        <form method="POST">
            <div class="mb-3">
                <label class="cp-form-label">å§“å *</label>
                <input type="text" name="name" class="cp-form-control" required>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">é›»è©± *</label>
                <input type="tel" name="phone" class="cp-form-control" pattern="[0-9]{8,}" required>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">æœƒå“¡ç­‰ç´š</label>
                <select name="tier" class="cp-form-control" id="tierSelect" onchange="updateBenefitInfo()">
                    <option value="æ™®é€šæœƒå“¡">æ™®é€šæœƒå“¡</option>
                    <option value="é»‘é‘½æœƒå“¡">é»‘é‘½æœƒå“¡ ğŸ’</option>
                </select>
            </div>
            <div class="mb-3">
                <label class="cp-form-label">å„²å€¼é‡‘é¡ ($)</label>
                <input type="number" name="balance" class="cp-form-control" value="0" step="0.01" min="0">
            </div>
            <div class="mb-3">
                <label class="cp-form-label">ç”Ÿæ•ˆæ—¥æœŸ *</label>
                <input type="date" name="effective_date" class="cp-form-control" id="effectiveDate" required>
            </div>
            <div class="mb-3">
                <div class="cp-alert cp-alert-success" id="benefitInfo">
                    <strong>æ™®é€šæœƒå“¡ï¼š</strong>æ¯é€±å…è²»ç”œå“ + å’–å•¡
                </div>
            </div>
            <div style="display: flex; gap: 0.75rem;">
                <button type="submit" class="cp-btn cp-btn-primary">å„²å­˜</button>
                <a href="{{ url_for('members') }}" class="cp-btn cp-btn-secondary">å–æ¶ˆ</a>
            </div>
        </form>
    </div>
    
    <script>
        document.getElementById('effectiveDate').valueAsDate = new Date();
        function updateBenefitInfo() {
            const tier = document.getElementById('tierSelect').value;
            const info = document.getElementById('benefitInfo');
            info.innerHTML = tier === 'æ™®é€šæœƒå“¡' ? '<strong>æ™®é€šæœƒå“¡ï¼š</strong>æ¯é€±å…è²»ç”œå“ + å’–å•¡' : '<strong>é»‘é‘½æœƒå“¡ï¼š</strong>æ¯å¹´å…è²»å»šå¸«ç™¼è¾¦äºŒäººå¥—é¤ (2æ¬¡/å¹´)';
        }
    </script>
{% endblock %}
